<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>My Photo Gallery</title>

<!-- Font Awesome Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0; 
    padding: 20px;
    background: black;
  }

  h1 {
    color: white;
    text-align: center;
    margin-bottom: 20px;
  }

  .gallery {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(280px, 1fr));
    gap: 20px;
  }

  .photo-card {
    background: #111;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 10px rgba(0,0,0,0.5);
    display: flex;
    flex-direction: column;
  }

  .photo-card img {
    width: 100%;
    height: 320px;
    object-fit: cover;
    display: block;
  }

  .photo-actions {
    display: flex;
    justify-content: space-around;
    padding: 10px;
    background: #1a1a1a;
    align-items: center;
  }

  .icon {
    font-size: 18px;
    color: #aaa;
    cursor: pointer;
    transition: color 0.3s;
  }

  .icon:hover {
    color: white;
  }

  .liked {
    color: red !important;
  }

  .stats {
    color: #aaa;
    font-size: 13px;
    text-align: left;
    padding: 0 10px 8px 10px;
  }

  /* Comment Section */
  .comment-section {
    padding: 10px;
    background: #222;
    color: white;
    font-size: 14px;
    display: none;
  }

  .comment-box {
    width: 100%;
    padding: 6px;
    border-radius: 6px;
    border: none;
    outline: none;
    margin-top: 5px;
  }

  .comments {
    margin-top: 8px;
  }

  .comment {
    margin-top: 5px;
    padding: 6px;
    background: #333;
    border-radius: 6px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .comment button {
    background: none;
    border: none;
    color: red;
    cursor: pointer;
    font-size: 12px;
  }
</style>
</head>
<body>

<h1>My Photo Gallery</h1>
<div class="gallery" id="gallery"></div>

<script>
  // ‡§´‡•ã‡§ü‡•ã ‡§ï‡•Ä ‡§≤‡§ø‡§∏‡•ç‡§ü
  const photos = [
    "IMG-20250919-WA0010.jpg",
    "IMG-20250919-WA0012.jpg",
    "IMG-20250919-WA0013.jpg",
    "IMG-20250919-WA0014.jpg",
    "IMG-20250919-WA0015.jpg",
    "IMG-20250919-WA0016.jpg",
    "IMG-20250919-WA0021.jpg",
    "IMG-20250919-WA0022.jpg",
    "IMG-20250919-WA0023.jpg",
    "IMG-20250919-WA0004.jpg",
    "IMG-20250919-WA0018.jpg",
    "IMG-20250919-WA0019.jpg",
    "IMG-20250919-WA0020.jpg",
    "IMG-20250919-WA0001.jpg",
    "IMG-20250919-WA0002.jpg",
    "IMG-20230624-WA0025.jpg",
    "IMG-20250919-WA0006.jpg"
  ];

  // LocalStorage ‡§∏‡•á data load
  let galleryData = JSON.parse(localStorage.getItem("galleryData")) || {};

  const gallery = document.getElementById("gallery");

  photos.forEach((photo, index) => {
    if (!galleryData[photo]) {
      galleryData[photo] = { likes: 0, comments: [] };
    }

    const card = document.createElement("div");
    card.classList.add("photo-card");

    card.innerHTML = `
      <img src="${photo}" alt="Photo ${index+1}">
      <div class="photo-actions">
        <i class="fas fa-heart icon like-btn ${galleryData[photo].likes > 0 ? 'liked' : ''}" data-img="${photo}"></i>
        <i class="fas fa-comment icon comment-btn" data-img="${photo}"></i>
        <i class="fas fa-share-alt icon share-btn" data-img="${photo}"></i>
        <a href="${photo}" download><i class="fas fa-download icon"></i></a>
      </div>
      <div class="stats" id="stats-${photo}">
        ‚ù§Ô∏è ${galleryData[photo].likes} Likes | üí¨ ${galleryData[photo].comments.length} Comments
      </div>
      <div class="comment-section" id="comment-section-${photo}">
        <input type="text" placeholder="Write a comment and press Enter..." class="comment-box" data-img="${photo}" />
        <div class="comments" id="comments-${photo}"></div>
      </div>
    `;

    gallery.appendChild(card);
    renderComments(photo);
  });

  // Like Button
  document.addEventListener("click", e => {
    if(e.target.classList.contains("like-btn")) {
      const photo = e.target.getAttribute("data-img");
      if (e.target.classList.contains("liked")) {
        galleryData[photo].likes--;
        e.target.classList.remove("liked");
      } else {
        galleryData[photo].likes++;
        e.target.classList.add("liked");
      }
      updateStats(photo);
      saveData();
    }
  });

  // Comment Button
  document.addEventListener("click", e => {
    if(e.target.classList.contains("comment-btn")) {
      const photo = e.target.getAttribute("data-img");
      const section = document.getElementById("comment-section-" + photo);
      section.style.display = section.style.display === "none" ? "block" : "none";
    }
  });

  // Add Comment
  document.addEventListener("keypress", e => {
    if(e.target.classList.contains("comment-box") && e.key === "Enter") {
      const photo = e.target.getAttribute("data-img");
      const commentText = e.target.value.trim();
      if(commentText) {
        galleryData[photo].comments.push(commentText);
        e.target.value = "";
        renderComments(photo);
        updateStats(photo);
        saveData();
      }
    }
  });

  // Delete Comment
  document.addEventListener("click", e => {
    if(e.target.classList.contains("delete-comment")) {
      const photo = e.target.getAttribute("data-img");
      const index = e.target.getAttribute("data-index");
      galleryData[photo].comments.splice(index, 1);
      renderComments(photo);
      updateStats(photo);
      saveData();
    }
  });

  // Share Button
  document.addEventListener("click", async e => {
    if(e.target.classList.contains("share-btn")) {
      const imgPath = e.target.getAttribute("data-img");
      if(navigator.share) {
        await navigator.share({
          title: "Check this photo",
          text: "See this awesome photo!",
          url: imgPath
        });
      } else {
        alert("Sharing not supported in this browser. Copy link: " + imgPath);
      }
    }
  });

  // Helper Functions
  function updateStats(photo) {
    const stats = document.getElementById("stats-" + photo);
    stats.textContent = `‚ù§Ô∏è ${galleryData[photo].likes} Likes | üí¨ ${galleryData[photo].comments.length} Comments`;
  }

  function renderComments(photo) {
    const container = document.getElementById("comments-" + photo);
    container.innerHTML = "";
    galleryData[photo].comments.forEach((c, i) => {
      const div = document.createElement("div");
      div.classList.add("comment");
      div.innerHTML = `${c} <button class="delete-comment" data-img="${photo}" data-index="${i}">Delete</button>`;
      container.appendChild(div);
    });
  }

  function saveData() {
    localStorage.setItem("galleryData", JSON.stringify(galleryData));
  }
</script>

</body>
</html>
